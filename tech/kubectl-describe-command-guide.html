<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="applicable-device" content="pc,mobile">
  <meta name="keywords" content="kubectl describe, Kubernetesæ’æŸ¥, kubectl get, Podæ’æŸ¥, Nodeæ’æŸ¥, Serviceæ’æŸ¥, Deploymentæ’æŸ¥, PVC/PVæ’æŸ¥, ConfigMapæ’æŸ¥, Secretæ’æŸ¥, Ingressæ’æŸ¥" />
  <meta name="description" content="æœ¬æ–‡è¯¦ç»†è§£æäº†kubectl describeå‘½ä»¤ï¼Œæ¶µç›–Podã€Nodeã€Serviceã€Deploymentç­‰èµ„æºæ’æŸ¥æŠ€å·§ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½Kubernetesé›†ç¾¤ä¸­çš„é—®é¢˜ã€‚" />
  <link rel="alternate" type="application/rss+xml" title="è¿ç»´ä¸åŠ ç­" href="https://blog.opsnot.com/feed.xml" />
  <link rel="stylesheet" href="https://blog.opsnot.com/static/posts/css/ops-coffee.min.css" type="text/css" />

  <!-- Begin SEO tag -->
  <title>Kubectl Describeï¼Œk8sæ•…éšœæ’æŸ¥åˆ©å™¨ï¼</title>
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:site_name" content="è¿ç»´ä¸åŠ ç­" />
  <meta property="og:url" content="https://blog.opsnot.comtech/kubectl-describe-command-guide.html" />
  <meta property="og:title" content="Kubectl Describeï¼Œk8sæ•…éšœæ’æŸ¥åˆ©å™¨ï¼" />
  <meta property="og:description" content="æœ¬æ–‡è¯¦ç»†è§£æäº†kubectl describeå‘½ä»¤ï¼Œæ¶µç›–Podã€Nodeã€Serviceã€Deploymentç­‰èµ„æºæ’æŸ¥æŠ€å·§ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½Kubernetesé›†ç¾¤ä¸­çš„é—®é¢˜ã€‚" />
  <link rel="canonical" href="https://blog.opsnot.comtech/kubectl-describe-command-guide.html" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Kubectl Describeï¼Œk8sæ•…éšœæ’æŸ¥åˆ©å™¨ï¼",
    "description": "æœ¬æ–‡è¯¦ç»†è§£æäº†kubectl describeå‘½ä»¤ï¼Œæ¶µç›–Podã€Nodeã€Serviceã€Deploymentç­‰èµ„æºæ’æŸ¥æŠ€å·§ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½Kubernetesé›†ç¾¤ä¸­çš„é—®é¢˜ã€‚",
    "url": "https://blog.opsnot.comtech/kubectl-describe-command-guide.html",
    "author": {
      "@type": "Person",
      "name": "è¿ç»´ä¸åŠ ç­"
    },
    "publisher": {
      "@type": "Organization",
      "name": "è¿ç»´ä¸åŠ ç­",
      "logo": {
        "@type": "ImageObject",
        "url": "https://blog.opsnot.com/favicon.ico"
      }
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://blog.opsnot.comtech/kubectl-describe-command-guide.html"
    }
  }
  </script>
  <!-- End SEO tag -->
</head>

<body>
  <div class="header">
    <div class="menu-button">&#9776; 
        <span class="menu-title">è¿ç»´ä¸åŠ ç­</span>
    </div> 

    <div class="container">
      <nav class="header-site">
        <ul>
          <li><a href="/">é¦–é¡µ</a></li>
            <li><a href="/tag/index.html" target="_self">æ ‡ç­¾</a></li>
            <li><a href="/archive.html" target="_self">å½’æ¡£</a></li>
          <li class="search"><a href="/search.html" target="_self" aria-label="æœç´¢">ğŸ”</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <header>
    <div class="container">
      <a href="/">
        <div class="name">è¿ç»´ä¸åŠ ç­</div>
        <div class="slogan">å”¯æœ‰çƒ­çˆ±ï¼Œæ–¹èƒ½æˆå°±éå‡¡ï¼Œè‹¥æ— ç—´è¿·ï¼Œå²‚èƒ½çª¥å¾—å¤©æœº</div>
      </a>
    </div>
  </header>

  <div id="content-wrap">
    <div class="container">
        <h1 id="art-title">Kubectl Describeï¼Œk8sæ•…éšœæ’æŸ¥åˆ©å™¨ï¼</h1>

        <p>é™¤äº†kubectl logsã€eventsï¼Œkubectl describe ä¹Ÿæ˜¯K8sæ’æŸ¥é—®é¢˜å¿…å¤‡å‘½ä»¤ï¼Œæœ‰ç‚¹ç±»ä¼¼docker inspectï¼Œå®ƒè¿”å›ç»“æœæ¯” <code>kubectl get</code> è¯¦ç»†ï¼Œæ¯”YAMLç›´è§‚ï¼Œç”¨è¿‡éƒ½è¯´å¥½ã€‚æœ¬æ–‡å†…å®¹è¾ƒé•¿ï¼Œä½†éƒ½æ˜¯å¹²è´§ï¼ŒåšæŒçœ‹å®Œä¸€å®šä¼šæœ‰æ”¶è·ï¼</p>
<h2 id="1">1. åŸºç¡€ç”¨æ³•</h2>
<h3 id="11-pod">1.1 æŸ¥çœ‹Podè¯¦æƒ…</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Podå®Œæ•´ä¿¡æ¯ï¼ˆopsnotæœ€å¸¸ç”¨ï¼‰
kubectl describe pod opsnot-postgresql

# æŒ‡å®šå‘½åç©ºé—´
kubectl describe pod my-pod -n opsnot-postgresql

# æŸ¥çœ‹æ‰€æœ‰Podï¼ˆopsnot.comæé†’ï¼šè¦æ…ç”¨ï¼è¾“å‡ºå¤ªå¤šï¼ï¼‰
kubectl describe pods</code></pre>


<h3 id="12">1.2 æŸ¥çœ‹ä¸åŒèµ„æº</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Deploymentï¼ˆopsnot.comå¸¸ç”¨ï¼‰
kubectl describe deployment opsnot-mariadb

# æŸ¥çœ‹Service
kubectl describe service opsnot-service

# æŸ¥çœ‹Node
kubectl describe node node-mariadb

# æŸ¥çœ‹ConfigMap
kubectl describe configmap mariadb-config

# æŸ¥çœ‹Secretï¼ˆæ•æ„Ÿä¿¡æ¯ä¼šéšè—ï¼‰
kubectl describe secret mariadb-secret</code></pre>


<h2 id="2-pod">2. Podæ’æŸ¥æŠ€å·§</h2>
<h3 id="21-pod">2.1 æŸ¥çœ‹Podäº‹ä»¶ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰</h3>
<pre class="codehilite"><code class="language-bash"># ç›´æ¥çœ‹Podä¿¡æ¯ï¼Œé‡ç‚¹çœ‹æœ€åº•éƒ¨çš„Events
kubectl describe pod ops-elasticsearch -n prod

# opsnot.comç»éªŒï¼šEventsæ˜¯æ’æŸ¥é—®é¢˜çš„å…³é”®ï¼
# çœ‹åˆ°ImagePullBackOffã€CrashLoopBackOfféƒ½èƒ½æ‰¾åˆ°åŸå› </code></pre>


<p><strong>å®æ“æ¡ˆä¾‹</strong>ï¼šæŸPodä¸€ç›´Pendingï¼Œç”¨describeä¸€çœ‹Eventsï¼š</p>
<pre class="codehilite"><code>Warning  FailedScheduling  node didn't have enough memory</code></pre>


<p>å¾ˆæ˜æ˜¾å†…å­˜ä¸è¶³ï¼Œè°ƒæ•´ä¸‹requestsè½»æ¾è§£å†³ã€‚</p>
<h3 id="22">2.2 æŸ¥çœ‹å®¹å™¨çŠ¶æ€</h3>
<pre class="codehilite"><code class="language-bash"># Pod describeé‡Œä¼šæ˜¾ç¤ºï¼š
 - å®¹å™¨çŠ¶æ€ï¼ˆRunning/Waiting/Terminatedï¼‰
 - é‡å¯æ¬¡æ•°
 - é€€å‡ºç 
 - æœ€åä¸€æ¬¡é‡å¯åŸå› 

kubectl describe pod my-elasticsearch | grep -A 10 &quot;State:&quot;
kubectl describe pod my-elasticsearch | grep &quot;Restart Count&quot;</code></pre>


<p><strong>å®æ“æ¡ˆä¾‹</strong>ï¼šå®¹å™¨åå¤é‡å¯ï¼Œdescribeæ˜¾ç¤ºï¼š</p>
<pre class="codehilite"><code>Last State: Terminated
  Reason: Error
  Exit Code: 137</code></pre>


<p>å®¹å™¨é€€å‡ºç 137ï¼Œé‚£å°±æ˜¯OOM killedäº†ï¼Œå†…å­˜è°ƒå¤§äº›å°±okäº†ã€‚</p>
<h3 id="23">2.3 æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µ</h3>
<pre class="codehilite"><code class="language-bash"># describeä¼šæ˜¾ç¤ºrequestså’Œlimits
kubectl describe pod opsnot-redis | grep -A 5 &quot;Limits:&quot;
kubectl describe pod opsnot-redis | grep -A 5 &quot;Requests:&quot;

# æŸ¥çœ‹å®é™…åˆ†é…çš„èµ„æº
kubectl describe pod ops-not-kafka | grep &quot;QoS Class&quot;</code></pre>


<p><strong>å®æ“æ¡ˆä¾‹</strong>ï¼šé›†ç¾¤èµ„æºç´§å¼ ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥æ‰¾åˆ°é‚£äº›è®¾ç½®äº†è¿‡é«˜çš„requestsä½†å®é™…ç”¨ä¸åˆ°çš„Podï¼Œä¼˜åŒ–èµ„æºï¼ŒèŠ‚èƒ½ææ•ˆ</p>
<h2 id="3-node">3. Nodeæ’æŸ¥</h2>
<h3 id="31-node">3.1 æŸ¥çœ‹Nodeå¥åº·çŠ¶æ€</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Nodeè¯¦æƒ…
kubectl describe node worker-node-1

# é‡ç‚¹çœ‹Conditionséƒ¨åˆ†ï¼ˆopsnot.comæ¨èï¼‰
kubectl describe node worker-node-1 | grep -A 10 &quot;Conditions:&quot;

# å¸¸è§çŠ¶æ€ï¼š
# Ready: True/False
# MemoryPressure: True/False
# DiskPressure: True/False
# PIDPressure: True/False</code></pre>


<p><strong>å®æ“æ¡ˆä¾‹</strong>ï¼šPodè°ƒåº¦ä¸ä¸ŠnodeèŠ‚ç‚¹ï¼Œdescribe nodeå‘ç°ï¼š</p>
<pre class="codehilite"><code>DiskPressure: True
Message: kubelet has disk pressure</code></pre>


<p>å¾ˆæ˜æ˜¾æ˜¯ç£ç›˜å æ»¡äº†ï¼Œæ¸…ç†å³å¯ï¼Œä¸€èˆ¬éƒ½æ˜¯æ—¥å¿—çˆ†äº†ã€‚</p>
<h3 id="32-node">3.2 æŸ¥çœ‹Nodeèµ„æºåˆ†é…</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Nodeä¸Šçš„èµ„æºä½¿ç”¨æƒ…å†µï¼ˆåŠ ç­å“¥æ¨èï¼‰
kubectl describe node worker-node-1 | grep -A 20 &quot;Allocated resources:&quot;

# ä¼šæ˜¾ç¤ºï¼š
# CPU Requests: 1200m (60% of 2 cores)
# Memory Requests: 4Gi (50% of 8Gi)</code></pre>


<h3 id="33-nodepod">3.3 æŸ¥çœ‹Nodeä¸Šçš„Pod</h3>
<pre class="codehilite"><code class="language-bash"># describe nodeä¼šåˆ—å‡ºè¯¥èŠ‚ç‚¹ä¸Šçš„æ‰€æœ‰PodåŠå…¶èµ„æºå ç”¨æƒ…å†µï¼ˆåŠ ç­å“¥å¢™è£‚æ¨èï¼šéå¸¸å¥½ç”¨ï¼ï¼ï¼ï¼‰
kubectl describe node worker-node-1 | grep -A 50 &quot;Non-terminated Pods:&quot;

# è¿”å›ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š
Non-terminated Pods:          (10 in total)
  Namespace                   Name                CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age
  ---------                   ----                ------------  ----------  ---------------  -------------  ---
  default                     nginx-opsnot-abc12  100m (2%)     200m (5%)   128Mi (1%)       256Mi (3%)     5d
  default                     redis-xyz34         50m (1%)      100m (2%)   64Mi (0%)        128Mi (1%)     3d
  kube-system                 kube-proxy-5678     100m (2%)     0 (0%)      64Mi (0%)        0 (0%)         15d
  kube-system                 coredns-1234        100m (2%)     200m (5%)   70Mi (0%)        170Mi (2%)     15d</code></pre>


<h2 id="4-service">4. Serviceæ’æŸ¥</h2>
<h3 id="41-service">4.1 æŸ¥çœ‹Serviceé…ç½®</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Serviceè¯¦æƒ…
kubectl describe service ops-not-service

# é‡ç‚¹çœ‹ï¼š
# - Selector: åŒ¹é…å“ªäº›Pod
# - Endpoints: å®é™…å…³è”çš„Pod IP
# - Porté…ç½®
kubectl describe svc my-service | grep Selector
kubectl describe svc my-service | grep Endpoints</code></pre>


<p><strong>å®æ“æ¡ˆä¾‹</strong>ï¼šServiceè®¿é—®ä¸é€šï¼Œdescribeå‘ç°Endpointsæ˜¯ç©ºçš„ï¼š</p>
<pre class="codehilite"><code>Endpoints: &lt;none&gt;</code></pre>


<p>ä¸€èˆ¬æ˜¯Selectorå†™é”™äº†ï¼ŒPodçš„Labelä¸åŒ¹é…ï¼Œæ”¹ä¸‹Labelå°±è¡Œäº†</p>
<h3 id="42-service">4.2 æ£€æŸ¥Serviceç±»å‹å’Œç«¯å£</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Serviceæš´éœ²æ–¹å¼
kubectl describe svc ops-not-service | grep Type
# Type: ClusterIP / NodePort / LoadBalancer

# æŸ¥çœ‹ç«¯å£æ˜ å°„
kubectl describe svc ops-not-service | grep Port</code></pre>


<h2 id="5-deploymentstatefulset">5. Deployment/StatefulSetæ’æŸ¥</h2>
<h3 id="51">5.1 æŸ¥çœ‹å‰¯æœ¬çŠ¶æ€</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Deployment
kubectl describe deployment opsnot-rabbitmq

# é‡ç‚¹å…³æ³¨ï¼š
# - Replicas: æœŸæœ›æ•°é‡ vs å®é™…è¿è¡Œæ•°é‡
# - Conditions: éƒ¨ç½²çŠ¶æ€
# - Events: æ»šåŠ¨æ›´æ–°è®°å½•
kubectl describe deploy opsnot-rabbitmq | grep Replicas
kubectl describe deploy opsnot-rabbitmq | grep -A 5 &quot;Conditions:&quot;</code></pre>


<p><strong>å®æ“æ¡ˆä¾‹</strong>ï¼šå‘ç‰ˆååªæœ‰ä¸€éƒ¨åˆ†Podæ›´æ–°æˆåŠŸï¼Œdescribeæ˜¾ç¤ºï¼š</p>
<pre class="codehilite"><code>Replicas: 3 desired | 2 updated | 3 total | 2 available
Conditions:
  Progressing: False
  Reason: ProgressDeadlineExceeded</code></pre>


<p>è¿™ç§æƒ…å†µåŸºæœ¬æ˜¯æ–°ç‰ˆæœ¬é•œåƒæœ‰é—®é¢˜å¯¼è‡´Podèµ·ä¸æ¥ï¼Œç›´æ¥å›æ»š</p>
<h3 id="52">5.2 æŸ¥çœ‹æ»šåŠ¨æ›´æ–°ç­–ç•¥</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹æ›´æ–°ç­–ç•¥
kubectl describe deploy opsnot-rabbitmq | grep -A 3 &quot;StrategyType:&quot;

# è¾“å‡ºç¤ºä¾‹ï¼š
# StrategyType: RollingUpdate
# RollingUpdateStrategy:
#   Max Surge: 25%
#   Max Unavailable: 25%</code></pre>


<h2 id="6-pvcpv">6. PVC/PVå­˜å‚¨æ’æŸ¥</h2>
<h3 id="61-pvc">6.1 æŸ¥çœ‹PVCçŠ¶æ€</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹PVC
kubectl describe pvc opsnot-pvc

# é‡ç‚¹çœ‹ï¼š
# - Status: Bound/Pending
# - Volume: ç»‘å®šçš„PVåç§°
# - Capacity: å®é™…å®¹é‡
# - Events: ç»‘å®šå¤±è´¥åŸå› </code></pre>


<p><strong>å®æ“åœºæ™¯</strong>ï¼šPVCä¸€ç›´Pendingï¼Œdescribeæ˜¾ç¤ºï¼š</p>
<pre class="codehilite"><code>Events:
  Warning  ProvisioningFailed  no volume plugin matched</code></pre>


<p>åŸºæœ¬æ˜¯StorageClassé…ç½®é”™è¯¯ï¼Œæ”¹ä¸€ä¸‹å°±è¡Œäº†</p>
<h3 id="62-pv">6.2 æŸ¥çœ‹PVè¯¦æƒ…</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹PV
kubectl describe pv opsnot-pv-name

# é‡ç‚¹çœ‹ï¼š
# - Status: Available/Bound/Released
# - Claim: è¢«å“ªä¸ªPVCä½¿ç”¨
# - Reclaim Policy: Delete/Retain
# - Access Modes: ReadWriteOnce/ReadWriteMany</code></pre>


<h2 id="7-configmapsecret">7. ConfigMap/Secretæ’æŸ¥</h2>
<h3 id="71-configmap">7.1 æŸ¥çœ‹ConfigMap</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹ConfigMapè¯¦æƒ…
kubectl describe configmap my-config

# ä¼šæ˜¾ç¤ºæ‰€æœ‰é”®å€¼å¯¹ï¼ˆopsnot.comæé†’ï¼šæ•°æ®é‡å¤§çš„è¯ä¼šæˆªæ–­ï¼‰
kubectl describe cm my-config | grep -A 20 &quot;Data&quot;

#ä¸ºä»€ä¹ˆä¼šæˆªæ–­ï¼Ÿ
kubectl describe å‘½ä»¤æœ‰è¾“å‡ºé•¿åº¦é™åˆ¶ï¼Œä¸»è¦æ˜¯ä¸ºäº†ï¼š

é˜²æ­¢ç»ˆç«¯è¢«å¤§é‡è¾“å‡ºæ·¹æ²¡
æé«˜å‘½ä»¤å“åº”é€Ÿåº¦
é¿å…ç½‘ç»œä¼ è¾“è¿‡å¤§æ•°æ®

#æŸ¥çœ‹cmè¢«æˆªæ–­äº†æ€ä¹ˆåŠï¼Ÿ
çœ‹yamlå‘—ï¼Œè¿™ç©æ„æ˜¯å®Œæ•´çš„</code></pre>


<h3 id="72-secret">7.2 æŸ¥çœ‹Secret</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Secretï¼ˆæ•°æ®ä¼šè¢«éšè—ï¼‰
kubectl describe secret my-secret

# è¾“å‡ºç¤ºä¾‹ï¼š
# Data
# ====
# password: 16 bytes
# username: 8 bytes

# opsnotæç¤ºï¼šçœŸå®æ•°æ®ä¸ä¼šæ˜¾ç¤ºï¼Œåªæ˜¾ç¤ºå¤§å°</code></pre>


<h2 id="8-ingress">8. Ingressæ’æŸ¥</h2>
<h3 id="81-ingress">8.1 æŸ¥çœ‹Ingressè§„åˆ™</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Ingress
kubectl describe ingress my-ingress

# é‡ç‚¹çœ‹ï¼š
# - Rules: è·¯ç”±è§„åˆ™
# - Backend: åç«¯Service
# - Events: é…ç½®æ›´æ–°è®°å½•
kubectl describe ing my-ingress | grep -A 20 &quot;Rules:&quot;</code></pre>


<h3 id="82-ingress">8.2 æŸ¥çœ‹Ingressåœ°å€</h3>
<pre class="codehilite"><code class="language-bash"># æŸ¥çœ‹Ingressåˆ†é…çš„IP
kubectl describe ingress opsnot-ingress | grep Address

# æŸ¥çœ‹TLSé…ç½®
kubectl describe ing opsnot-ingress | grep -A 5 &quot;TLS:&quot;</code></pre>


<h2 id="9">9. å®æˆ˜æŠ€å·§</h2>
<h3 id="91-pod">9.1 å¿«é€Ÿå®šä½é—®é¢˜Pod</h3>
<pre class="codehilite"><code class="language-bash"># opsnot.comæ•…éšœæ’æŸ¥è„šæœ¬
#!/bin/bash
NS=${1:-default}

echo &quot;=== æŸ¥æ‰¾ $NS å‘½åç©ºé—´ä¸­çš„å¼‚å¸¸ Pod ===&quot;

# æ£€æŸ¥å‘½åç©ºé—´æ˜¯å¦å­˜åœ¨
if ! kubectl get ns $NS &amp;&gt; /dev/null; then
    echo &quot;é”™è¯¯: å‘½åç©ºé—´ $NS ä¸å­˜åœ¨!&quot;
    exit 1
fi

# è·å–å¼‚å¸¸ Pod åˆ—è¡¨
PODS=$(kubectl get pods -n $NS --field-selector=status.phase!=Running -o name 2&gt;/dev/null)

if [ -z &quot;$PODS&quot; ]; then
    echo &quot;åŠ ç­å“¥æ²¡æœ‰å‘ç°å¼‚å¸¸ Pod&quot;
    exit 0
fi

for pod in $PODS; do
    echo &quot;--- $pod ---&quot;
    kubectl describe $pod -n $NS | grep -A 15 &quot;Events:&quot;
    echo &quot;================================&quot;
done</code></pre>


<h3 id="92">9.2 æ‰¹é‡æ£€æŸ¥èµ„æº</h3>
<pre class="codehilite"><code class="language-bash"># æ£€æŸ¥æ‰€æœ‰NodeçŠ¶æ€
for node in $(kubectl get nodes -o name); do
    echo &quot;=== $node ===&quot;
    kubectl describe $node | grep -A 5 &quot;Conditions:&quot;
done

# æ£€æŸ¥å‘½åç©ºé—´å†…æ‰€æœ‰Serviceçš„Endpoints
kubectl get svc -n prod -o name | while read svc; do
    echo &quot;$svc:&quot;
    kubectl describe $svc -n prod | grep Endpoints
done</code></pre>


<h3 id="93">9.3 æŸ¥çœ‹æœ€è¿‘çš„äº‹ä»¶</h3>
<pre class="codehilite"><code class="language-bash"># Podæœ€è¿‘çš„äº‹ä»¶ï¼ˆæŒ‰æ—¶é—´æ’åºï¼‰
kubectl describe pod ops-not-pod | grep -A 50 &quot;Events:&quot; | tail -20

# æ‰€æœ‰èµ„æºçš„äº‹ä»¶
kubectl get events --sort-by=.metadata.creationTimestamp

# opsnotç»éªŒï¼šç»“åˆdescribeå’Œeventsä¸€èµ·çœ‹
kubectl describe pod ops-not-pod &amp;&amp; kubectl get events --field-selector involvedObject.name=my-pod</code></pre>


<h3 id="94">9.4 å¯¼å‡ºå®Œæ•´ä¿¡æ¯ç”¨äºæ’æŸ¥</h3>
<pre class="codehilite"><code class="language-bash"># å¯¼å‡ºPodå®Œæ•´ä¿¡æ¯
kubectl describe pod ops-not-pod &gt; pod-describe.txt

# å¯¼å‡ºæ‰€æœ‰èµ„æºä¿¡æ¯
kubectl describe all -n production &gt; cluster-info.txt</code></pre>


<h2 id="10">10. å¸¸è§é—®é¢˜æ’æŸ¥æ¸…å•</h2>
<h3 id="101-pod">10.1 Podèµ·ä¸æ¥</h3>
<pre class="codehilite"><code class="language-bash"># 1. å…ˆçœ‹PodçŠ¶æ€
kubectl get pod ops-not-mysql

# 2. describeçœ‹Events
kubectl describe pod ops-not-mysql

# å¸¸è§åŸå› ï¼š
 - ImagePullBackOff: é•œåƒæ‹‰å–å¤±è´¥
 - CrashLoopBackOff: å®¹å™¨å¯åŠ¨åç«‹å³é€€å‡º
 - Pending: èµ„æºä¸è¶³æˆ–è°ƒåº¦å¤±è´¥
 - Error: é…ç½®é”™è¯¯</code></pre>


<h3 id="102-service">10.2 Serviceä¸é€š</h3>
<pre class="codehilite"><code class="language-bash"># 1. æ£€æŸ¥Serviceçš„Endpoints
kubectl describe svc opsnot-nginx-service | grep Endpoints

# 2. å¦‚æœEndpointsä¸ºç©ºï¼Œæ£€æŸ¥Selector
kubectl describe svc opsnot-nginx-service | grep Selector
kubectl get pods --show-labels

# 3. æ£€æŸ¥Podæ˜¯å¦Ready
kubectl get pods -l app=opsnot-blog</code></pre>


<h3 id="103">10.3 ç½‘ç»œé—®é¢˜</h3>
<pre class="codehilite"><code class="language-bash"># 1. æ£€æŸ¥Pod IP
kubectl describe pod my-pod | grep &quot;IP:&quot;

# 2. æ£€æŸ¥Service ClusterIP
kubectl describe svc my-service | grep &quot;IP:&quot;

# 3. æ£€æŸ¥DNS
kubectl describe pod my-pod | grep -A 5 &quot;DNS&quot;

# åŠ ç­å“¥æ’æŸ¥æµç¨‹ï¼š
# Pod -&gt; Service -&gt; Ingress é€å±‚æ’æŸ¥</code></pre>


<h3 id="104">10.4 èµ„æºä¸è¶³</h3>
<pre class="codehilite"><code class="language-bash"># 1. æ£€æŸ¥Nodeèµ„æº
kubectl describe nodes | grep -A 10 &quot;Allocated resources:&quot;

# 2. æ£€æŸ¥Podèµ„æºé…ç½®
kubectl describe pod opsnot-pod | grep -A 5 &quot;Limits:&quot;

# 3. çœ‹Eventsé‡Œæœ‰æ²¡æœ‰èµ„æºä¸è¶³çš„å‘Šè­¦
kubectl describe pod opsnot-pod | grep &quot;Insufficient&quot;</code></pre>


<h2 id="11">11. è¿›é˜¶ç”¨æ³•</h2>
<h3 id="111">11.1 ç»“åˆå…¶ä»–å‘½ä»¤ä½¿ç”¨</h3>
<pre class="codehilite"><code class="language-bash"># describe + logs ç»„åˆæ’æŸ¥
kubectl describe pod my-pod &amp;&amp; kubectl logs my-pod --tail=50

# describe + exec ç»„åˆ
kubectl describe pod my-pod
kubectl exec -it my-pod -- sh

# describe + top æŸ¥çœ‹èµ„æºä½¿ç”¨
kubectl describe pod my-pod
kubectl top pod my-pod</code></pre>


<h3 id="112-watch">11.2 ä½¿ç”¨watchå®æ—¶ç›‘æ§</h3>
<pre class="codehilite"><code class="language-bash"># å®æ—¶ç›‘æ§Podå˜åŒ–ï¼ˆåŠ ç­å“¥å¸¸ç”¨ï¼‰
watch -n 2 'kubectl describe pod opsnot-pod | grep -A 10 &quot;Events:&quot;'

# å®æ—¶ç›‘æ§NodeçŠ¶æ€
watch kubectl describe node worker-1 | grep &quot;Allocated resources:&quot; -A 20</code></pre>


<h3 id="113">11.3 æ ¼å¼åŒ–è¾“å‡ºå…³é”®ä¿¡æ¯</h3>
<pre class="codehilite"><code class="language-bash"># opsnot.comè‡ªç”¨è„šæœ¬ï¼šå¿«é€ŸæŸ¥çœ‹Podå…³é”®ä¿¡æ¯
#!/bin/bash
POD=$1
NS=${2:-default}

echo &quot;=== åŸºæœ¬ä¿¡æ¯ ===&quot;
kubectl describe pod $POD -n $NS | grep &quot;Status:\|IP:\|Node:&quot;

echo -e &quot;\n=== å®¹å™¨çŠ¶æ€ ===&quot;
kubectl describe pod $POD -n $NS | grep &quot;State:&quot; -A 3

echo -e &quot;\n=== é‡å¯ä¿¡æ¯ ===&quot;
kubectl describe pod $POD -n $NS | grep &quot;Restart Count&quot;

echo -e &quot;\n=== æœ€è¿‘äº‹ä»¶ ===&quot;
kubectl describe pod $POD -n $NS | grep &quot;Events:&quot; -A 15 | tail -10</code></pre>


<h2 id="12_1">12. æ€§èƒ½ä¼˜åŒ–æç¤º</h2>
<pre class="codehilite"><code class="language-bash"># describeè¾“å‡ºå¾ˆå¤šï¼Œç”¨ç®¡é“è¿‡æ»¤å…³é”®ä¿¡æ¯
kubectl describe pod ops-not-pod | grep -E &quot;Status:|Events:|State:|Restart&quot;

# åªçœ‹ç‰¹å®šå‘½åç©ºé—´ï¼Œé¿å…å…¨å±€æœç´¢
kubectl describe pods -n opsnot-namespace

# ç»“åˆ-o wideæŸ¥çœ‹æ›´å¤šä¿¡æ¯
kubectl get pods -o wide
kubectl describe pod ops-not-pod

# opsnot.comå»ºè®®ï¼šå…ˆç”¨getå¿«é€Ÿå®šä½ï¼Œå†ç”¨describeè¯¦ç»†æ’æŸ¥</code></pre>


<h2 id="13">13. æœ€å</h2>
<p><code>kubectl describe</code> è¾“å‡ºå†…å®¹æå…¶ä¸°å¯Œï¼Œå®ä¸ºæ’æŸ¥é—®é¢˜ä¸€åˆ©å™¨ï¼Œä»¥ä¸Šå†…å®¹åŸºæœ¬æ¶µç›–describeæ‰€æœ‰åœºæ™¯ã€‚
æ„Ÿè°¢å¤§å®¶è€å¿ƒçœ‹å®Œï¼Œå¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œè¯·å¸®å¿™ç‚¹èµè½¬å‘ï¼ŒåŠ ç­å“¥ç»§ç»­åŠ ç­è¾“å‡ºå¹²è´§ï¼</p>
<blockquote>
<p>æœ¬æ–‡ç”± opsnot.com æ•´ç†ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œå–œæ¬¢å°±å…³æ³¨ä¸€ä¸‹å§ï¼</p>
</blockquote>

        <div>
          <ul style="display: inline-block;padding: 0;margin: 0 0 0.5em;color: #999;">
            <li style="display: inline-block;margin: 0 1em 0 0;"><a href="/tech/kubectl-describe-command-guide.html">ğŸ“… 2025-10-31</a></li>
          </ul>
        </div>

        <hr>

        <div class="pagination">
            <a href="https://blog.opsnot.com/tech/docker-inspect-guide.html" class="pagination-item prev-page">
                <span class="pagination-arrow">â†</span>
                <span class="pagination-text">ä¸Šä¸€ç¯‡ï¼š<br>Docker Inspectï¼Œå€¼å¾—æ—è°±å•å¼€ä¸€é¡µçš„å‘½ä»¤</span>
            </a>
            <a href="/archive.html" class="pagination-item next-page">
                <span class="pagination-text">ä¸‹ä¸€ç¯‡ï¼š<br>æ–‡ç« åˆ—è¡¨</span>
                <span class="pagination-arrow">â†’</span>
            </a>
        </div>

        

        

        <div class="nav-cell">
            <p class="nav-list-title">èƒ½çœ‹åˆ°è¿™é‡Œä¸€å®šæ˜¯çœŸçˆ±ï¼Œè®¢é˜…ä¸€ä¸‹å§</p>
            <img alt="" loading="lazy" src="/static/images/wx.sou1.png" />
        </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="copy"> Â© opsnot</div>

      <div class="link">
        <a href="/comments.html" title="ç»™æˆ‘ç•™è¨€" target="_blank">ç•™è¨€</a>
        <a href="/friends.html" title="å‹æƒ…é“¾æ¥" target="_blank">å‹é“¾</a>
      </div>
    </div>
  </footer>
  
  <script defer src="https://umami.opsnot.com/script.js" data-website-id="b1df419f-de4e-4b55-82fc-2aebae58afc7"></script>
</body>
</html>